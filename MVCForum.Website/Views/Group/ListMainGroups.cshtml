@using MvcForum.Web.ViewModels
@using MvcForum.Web.ViewModels.Group
@model GroupListSummaryViewModel
@{
    Layout = null;
}

<div class="Groupindex">
    <h1>Groups</h1>

    @foreach (var groupSummary in Model.AllPermissionSets.Keys)
    {
        var permissions = Model.AllPermissionSets[groupSummary];

        @Html.Partial("_Group", new GroupSummaryViewModel
        {
            GroupId = groupSummary.Group.Id,
            Name = groupSummary.Group.Name,
            Description = groupSummary.Group.Description,
            Image = groupSummary.Group.Image,
            NiceUrl = groupSummary.Group.NiceUrl,
            DiscussionCount = groupSummary.DiscussionCount,
            MemberCount = groupSummary.MemberCount,
            Permissions = permissions            
        })
    }

</div>
